<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Pay Slip</title>
</head>

<body>



    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>




    <!-- Font Awesome JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../payslips/printcss">




    <div id="Index">

        <table class="noprint">
            <tr>
                <td>
                    <label class="form-check-label" for="exampleCheck1">ID</label>
                    <input type="checkbox" class="form-check-input" id="idcheck" checked>
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Name</label>
                    <input type="checkbox" class="form-check-input" id="namecheck" checked>
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Department</label>
                    <input type="checkbox" class="form-check-input" id="depcheck" checked>
                </td>
            </tr>
            <tr>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Designation</label>
                    <input type="checkbox" class="form-check-input" id="descheck" checked>
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Phone No.</label>
                    <input type="checkbox" class="form-check-input" id="phonecheck" checked> 
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Account No.</label>
                    <input type="checkbox" class="form-check-input" id="acccheck" checked>
                </td>
            </tr>
            <tr>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Company Name</label>
                    <input type="checkbox" class="form-check-input" id="cnamecheck" checked>
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Logo</label>
                    <input type="checkbox" class="form-check-input" id="logocheck" checked> 
                </td>
                <td>
                    <label class="form-check-label" for="exampleCheck1">Header</label>
                    <input type="checkbox" class="form-check-input" id="headerrcheck" checked> 
                </td>
            </tr>

        </table>

        <button @click="print()" class="noprint" style="padding:3px 15px"><i class="fa fa-print" style="color:red"
                aria-hidden="true"></i>&nbsp Print All</button>
        <div id="print" v-for="i in 8">
            <div class="center info headin headerr" style="height: 110px;"><img class="logo" src="../images/logo" width="100px"
                    style="float: left;" height="100px">
                <div class="cname" style="vertical-align: middle;"><br>{{company}}</div>
            </div>
            <div class="roww info"></div>
            <div class="center info" style="font-size: 18px;"><b>PAYSLIP FOR MONTH OF {{month}}-{{year}}</b></div><br>

            <table class="info">
                <tr>
                    <td class="id">
                        Employee ID :
                    </td>
                    <td class="id">
                        {{myArray2[0].empid}}
                    </td>
                    <td class="name">
                        Name :
                    </td>
                    <td class="name">
                        {{myArray2[0].name}}
                    </td>
                </tr>
                <tr>
                    <td class="dep">
                        Department :
                    </td>
                    <td class="dep">
                        {{myArray2[0].department}}
                    </td>
                    <td class="des">
                        Designation :
                    </td>
                    <td class="des">
                        {{myArray2[0].designation}}
                    </td>
                </tr>
                <tr>
                    <td class="phone">
                        Phone Number :
                    </td>
                    <td class="phone">
                        {{myArray2[0].number}}
                    </td>
                    <td class="acc">
                        Account Number :
                    </td>
                    <td class="acc">
                        {{myArray2[0].accnum}}
                    </td>
                </tr>

            </table>
            <table class="numbering">
                <tr>
                    <th colspan="2">
                        Earning Amount
                    </th>
                    <th colspan="2">
                        Deduction Amount
                    </th>

                </tr>
                <tr>
                    <td>
                        Basic
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].salary}}
                    </td>
                    <td>
                        Holidays
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].holiday}}
                    </td>
                </tr>
                <tr>
                    <td>
                        Extra Time
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].extratime}}
                    </td>
                    <td>
                        Advance
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].advance}}
                    </td>
                </tr>
                <tr>
                    <td>
                        Bonus
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].bonus}}
                    </td>
                    <td>
                        Deductions
                    </td>
                    <td>
                        {{symbol}}{{myArray[0].deductions}}
                    </td>
                </tr>
                <tr>
                    <th>
                        Total Earnings
                    </th>
                    <th>
                        {{symbol}}{{parseInt(myArray[0].bonus)+parseInt(myArray[0].salary)}}
                    </th>
                    <th>
                        Total Deductions
                    </th>
                    <th>
                        {{symbol}}{{parseInt(myArray[0].advance)+parseInt(myArray[0].holiday)}}
                    </th>
                </tr>
                <tr>
                    <th colspan="2" style="border: none;">

                    </th>
                    <th>
                        Net Pay
                    </th>
                    <th>
                        {{symbol}}{{parseInt(myArray[0].advance)+parseInt(myArray[0].holiday)}}
                    </th>
                </tr>


            </table>
        </div>
    </div>
    <script src="https://unpkg.com/vue@2.6.11/dist/vue.js"></script>

    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script>
        var log = new Vue({
            el: "#Index",
            data: {
                myArray: [{ empid: '1', salary: '60', advance: '10', holiday: '10', bonus: '5', total: '20', bonus: '0', deductions: '0' }],
                myArray2: [{ empid: '1', name: 'Jimmy Anderson', department: 'Cricket', designation: 'Bowler', phone: '9899989922', accnum: 'xxxx-xxxx-xxxx' }],
                month: '',
                symbol: 'Rs ',
                id: '',
                year: '2020',
                company: 'Company Name',
            },
            created: function () {
                this.load();
            },
            methods: {
                load: function () {
                    var params = this.getParams(window.location.href)
                    this.id = params.id;
                    this.month = params.month
                    this.year = params.year
                    //this.print()

                }, print() {
                    window.print()
                    setTimeout(function () { window.close(); }, 2000);

                }, getParams(url) {
                    var params = {};
                    var parser = document.createElement('a');
                    parser.href = url;
                    var query = parser.search.substring(1);
                    var vars = query.split('&');
                    for (var i = 0; i < vars.length; i++) {
                        var pair = vars[i].split('=');
                        params[pair[0]] = decodeURIComponent(pair[1]);
                    }
                    return params;
                }

            }
        })
        $('#idcheck').on('click', function () {
            $('.id').toggleClass('noprint');
        });
        $('#cnamecheck').on('click', function () {
            $('.cname').toggleClass('noprint');
        });
        $('#logocheck').on('click', function () {
            $('.logo').toggleClass('noprint');
        });
        $('#headerrcheck').on('click', function () {
            $('.headerr').toggleClass('noprint');
        });
        $('#namecheck').on('click', function () {
            $('.name').toggleClass('noprint');
        });
        $('#depcheck').on('click', function () {
            $('.dep').toggleClass('noprint');
        });
        $('#descheck').on('click', function () {
            $('.des').toggleClass('noprint');
        });
        $('#phonecheck').on('click', function () {
            $('.phone').toggleClass('noprint');
        });
        $('#acccheck').on('click', function () {
            $('.acc').toggleClass('noprint');
        });
    </script>

</body>

</html>